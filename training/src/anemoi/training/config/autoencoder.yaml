defaults:
- data: zarr
- dataloader: native_grid
- datamodule: single
- diagnostics: evaluation
- hardware: example
- graph: encoder_decoder_only
- model: graphtransformer
- training: default
- _self_

config_validation: False

data:
  frequency: 1h
  resolution: o96

model:
  model:
    _target_: anemoi.models.models.AnemoiModelAutoEncoder

training:
  model_task: anemoi.training.train.forecaster.GraphAutoEncoder
  multistep_input: 1

diagnostics:
  callbacks:
  - _target_: anemoi.training.diagnostics.callbacks.plot.PlotSpectrum
    # every_n_batches: 100 # Override for batch frequency
    # min_delta: 0.01 # Minimum distance between two consecutive points
    sample_idx: ${diagnostics.plot.sample_idx}
    every_n_batches: ${diagnostics.plot.frequency.batch}
    parameters:
    - z_500
    - tp
    - 2t
    - 10u
    - 10v
  - _target_: anemoi.training.diagnostics.callbacks.plot.PlotHistogram
    sample_idx: ${diagnostics.plot.sample_idx}
    every_n_batches: ${diagnostics.plot.frequency.batch}
    precip_and_related_fields: ${diagnostics.plot.precip_and_related_fields}
    parameters:
    - z_500
    - tp
    - 2t
    - 10u
    - 10v
