defaults:
- data: zarr_single
- dataloader: native_grid_single
- datamodule: single
- diagnostics: evaluation
- hardware: slurm
- graph: encoder_decoder_only_single
- model: transformer_single
- training: default_single
- _self_

### This file is for local experimentation.
##  When you commit your changes, assign the new features and keywords
##  to the correct defaults.
# For example to change from default GPU count:

config_validation: False  # True

hardware:
  num_gpus_per_model: 4

diagnostics:
  log:
    mlflow:
      enabled: True
      offline: True  # False
      experiment_name: 'rain_pox'
      run_name: 'mse_poxfixmn5'
      terminal: True
      # tracking_uri: null
      # authentication: True
  plot:
    callbacks: []

model:
  num_channels: 1024

dataloader:
  batch_size:
    training: 1
    validation: 1
  limit_batches:
    training: null
    validation: 10

training:
  # max_epochs: 67
  max_steps: 260000
  lr:
    rate: 3.125e-5  # Do I need to multiply by 4 if only have 4 nodes on ATOS?
    # rate: 1.25e-4  # 3.125e-5 * 4 for ATOS change make for 16-node runs!!
    iterations: 260000
    min: 3e-7  # Not scaled by GPU
